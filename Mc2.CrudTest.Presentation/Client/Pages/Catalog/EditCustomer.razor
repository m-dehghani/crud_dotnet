@using Mc2.CrudTest.Presentation.Shared.SSOT
<EditForm Model="@_updateCustomerDTOModel" OnValidSubmit="SaveAsync">
    <FluentValidationValidator @ref="@_fluentValidationValidator" />
    <DataAnnotationsValidator />

    <MudDialog>
        <TitleContent>
            <MudText Typo="Typo.h6">
                <MudIcon Icon="@Icons.Material.Filled.Add" Class="mr-3 mb-n1" />
                Add Customer
            </MudText>
        </TitleContent>

        <DialogContent>
            <MudGrid>
                <MudItem xs="12" md="12">
                    <MudTextField Disabled For="@(() => _updateCustomerDTOModel.Id)" @bind-Value="_updateCustomerDTOModel.Id" Label="Id" />
                 </MudItem>

                 <MudItem xs="12" md="6">
                     <MudTextField T="string" For="@(() => _updateCustomerDTOModel.FirstName)" @bind-Value="_updateCustomerDTOModel.FirstName" Label="FirstName" />
                 </MudItem>
                 <MudItem xs="12" md="6">
                     <MudTextField For="@(() => _updateCustomerDTOModel.LastName)" @bind-Value="_updateCustomerDTOModel.LastName" Label="LastName" />
                 </MudItem>

                 <MudItem xs="12" md="6">
                     <MudDatePicker For="@(() => _updateCustomerDTOModel.DateOfBirth)" @bind-Date="_updateCustomerDTOModel.DateOfBirth" Label="DateOfBirth" />
                 </MudItem>

                 <MudItem xs="12" md="6">
                     <MudGrid>
                         <MudItem xs="3" md="3">
                             <MudSelect @bind-Value="_updateCustomerDTOModel.Country" Label=" Country" For="@(() => _updateCustomerDTOModel.Country)">
                                 @foreach (CountrySSOT item in Enum.GetValues(typeof(CountrySSOT)))
                                {
                                    <MudSelectItem Value="@item">@item</MudSelectItem>
                                }
                            </MudSelect>
                        </MudItem>
                        <MudItem xs="9" md="9">

                            <MudTextField For="@(() => _updateCustomerDTOModel.PhoneNumber)" @bind-Value="_updateCustomerDTOModel.PhoneNumber" Label="PhoneNumber" />
                        </MudItem>
                    </MudGrid>
                </MudItem>

                <MudItem xs="12" md="6">
                    <MudTextField InputType="@InputType.Email" For="@(() => _updateCustomerDTOModel.Email)" @bind-Value="_updateCustomerDTOModel.Email" Label="Email" />
                </MudItem>

                <MudItem xs="12" md="6">
                    <MudTextField For="@(() => _updateCustomerDTOModel.BankAccountNumber)" @bind-Value="_updateCustomerDTOModel.BankAccountNumber" Label="BankAccountNumber" />
                </MudItem>
            </MudGrid>
        </DialogContent>
        <DialogActions>
            <MudButton DisableElevation Variant="Variant.Filled" OnClick="Cancel">Cancel</MudButton>

             @if (_loading)
            {
                <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
            }
            else
            {
                <MudButton DisableElevation Variant="Variant.Filled" ButtonType="ButtonType.Submit" Disabled="@(!Validated)" Color="Color.Success">Save</MudButton>
            }
        </DialogActions>
    </MudDialog>

</EditForm>